---
import Nav from "$components/Nav/Nav.astro";
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content="Janis Jansen - Fullstack dev & creator" />
    <meta
      name="keywords"
      content="Janis Jansen, fullstack, developer Düsseldorf, softwareentwickler Düsseldorf"
    />
    <meta
      name="robots"
      content="index, follow, max-snippet:[120], max-image-preview:[large]"
    />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <title>Janis Jansen - personal website</title>
  </head>
  <script>
    import { setThemeToDocument, getPreferredColorScheme, getThemeFromLocalstorage } from "@janis.me/themed/js";

    const lsTheme = getThemeFromLocalstorage();

    if(lsTheme) {
      const lsThemeComponents = lsTheme.split("-");
      if(!['janis', 'lucie'].includes(lsThemeComponents[0]) || !['light', 'dark'].includes(lsThemeComponents[1])) {
        setThemeToDocument('janis-light');
      } else {
        setThemeToDocument(lsTheme);
      }
    } else {
      const preferredTheme = getPreferredColorScheme();
      setThemeToDocument(preferredTheme === 'light' ? 'janis-light' : 'janis-dark');
    }
  </script>

  <body>
    <Nav />

    <main class="content">
      <slot />
    </main>
  </body>
</html>

<style lang="scss" is:global>
  @use "$styles/index";
  @use "$styles/config";

  body {
    display: grid;
    grid-template-rows: config.$nav-height auto;
  }

  .content {
    display: flex;
    align-items: center;
    flex-flow: column;

    overflow: auto;
  }
</style>
